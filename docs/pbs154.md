# PBS 154 of X â€” Bash: Expansions & Brackets Redux

This final Bash instalment is mostly about putting things we already know into their proper context, but we will  learn a few new things we've skipped over too. None of these new things are vital to know, but they can be darn useful, and they'll get you instant nerd street-cred when a fellow scripter sees you using them ðŸ™‚

## Matching Podcast Episodes

TO DO

## Episode Resources

* The instalment ZIP file TO UPDATE â€” [pbs154.zip](https://github.com/bartificer/programming-by-stealth/raw/master/instalmentZips/pbs154.zip)

## PBS 153 Challenge Solution

TO DO â€” time permitting

## Expansions in Bash

Throughout every instalment in this series-within-a-series, and throughout just about every instalment of Taming the Terminal we have been making use of shell expansions without explicitly calling attention to that fact.

When we pass arguments to terminal commands the values we type and the values received by the command are often not the same. The official name for these transformations are *Shell Expansions*.

If that sounds a but abstract, we can use the `echo` command to illustrate the point â€” `echo` simply prints out the value of its arguments, so if there were no shell expansions, `echo` would print back exactly what we type in, but of course we know it does not, as illustrated by this little sequence:

```text
$ echo ~
/Users/bartbusschots
$ echo 'Hello World'
Hello World
$ echo $PWD
/Users/bartbusschots
$
```

[Bash's official documentation lists seven distinct expansions](https://www.gnu.org/software/bash/manual/html_node/Shell-Expansions.html), and mentions that when all the expansions are done it performs another transformation (that for some reason is not referred to as an expansion) â€” quote removal. It also lists the order in which all these transformations get applied:

1. [Brace Expansion](https://www.gnu.org/software/bash/manual/html_node/Brace-Expansion.html) â€” basic sequence generation, e.g. `doc{1..3}.txt` â†’ `doc1.txt doc2.txt doc3.txt` (new!)
2. [Tilde Expansion](https://www.gnu.org/software/bash/manual/html_node/Tilde-Expansion.html) â€” home directory path insertion, e.g. `~/Documents` â†’ `/Users/bartbusschots/Documents`
3. [Shell Parameter Expansion](https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html) â€” insert the values of variables, e.g. `I am $USER` or `I am ${USER}`  â†’  `I am bart`
4. [Command Substitution](https://www.gnu.org/software/bash/manual/html_node/Command-Substitution.html) â€” e.g. `today is $(date +%A)` â†’ `today is Wednesday`
5. [Arithmetic Expansion](https://www.gnu.org/software/bash/manual/html_node/Arithmetic-Expansion.html) â€” arithmetic expressions that return values rather than success codes, e.g. `doc$(( 4 + 5 )).txt` â†’ `doc9.txt`
6. [Word Splitting](https://www.gnu.org/software/bash/manual/html_node/Word-Splitting.html) â€” the result of any previously executed expansions gets split into separate arguments, or *words* based on the value of `$IFS`, unless they have been quoted
7. [Filename Expansion](https://www.gnu.org/software/bash/manual/html_node/Filename-Expansion.html) â€” wild-card file paths, e.g. `*.txt` â†’ `a.txt`  & `another.txt`
8. [Quote Removal](https://www.gnu.org/software/bash/manual/html_node/Quote-Removal.html) â€” any quoted arguments get their surrounding quotes removed before the value gets handed to the command

We're not going to go into detail on all of these, but I do want to draw your attention to some, and highlight some nice little power features I've not found an excuse to mention before.

## Quick Reference/Redux â€” An Ocean Brackets Summarised

TO DO

## Final Thoughts

TO DO
