---
title: Submodules
instalment: 172
miniseries: git
creators: [bart, allison]
---
We're making a quick detour back to Git to have a look at one of the more advanced topcis I  intentionally skipped over on our first look at Git because it didn't solve a relevant problem. As we move forward with the XKPasswd project that's changing, and it's also changing in other adjacent contexts too, so, it's time to meet the concept of Git Submodules, that is to say nested repositories.

## Matching Podcast Episode

TO DO

## Instalment Resources

*None*

## The Problem to be Solved

There are lots of reasons it can be useful to check out one git repository within another. This is by no means an exhaustive list, but they solve three problems for me which are worth sharing. 

### Deploying Plugin-based web apps

For very obvious reasons, our focus in this series is programmers, and that very much guided our exploration of Git. But, another group of people who make extensive use of it are sysadmins. 

When you deploy a web app like Wordpress for a personal site it makes sense to let the app have permission to alter its own code so it can manage its own updates, and so you can install plugins using the web interface. This involves a serious security tradeoff â€” if Wordpress can update Wordpress, then a hacker can exploit any bugs that might exist in Wordpress to maliciously alter your website. That sounds bad, but the alternative is that you need to remember to keep your Wordpress patched yourself, and realistically, you won't, so even if you denied disk access, your site would soon be vulnerable to a total hack anyway because Wordpress absoluty must have database write access to function. So, for personal sites the default approach of letting Wordpress update Wordpress is a huge security win. 

But, for major sites things are totally different. Firstly, your website won't be hosed on **a** web server, but on **many** web swervers, so you don't have one copy of the files, you have many, and for your site to work they need to be kept in sync. Having each server update itself would result in chaos!

So, sysadmins need a mechanism to version the running code and push it to all the servers in a controlled way. Git is perfect for this! You can use branches to manage test and production servers separately, and you can guickly and easily roll back the code if something goes wrong. You'll also have a canonical known-correct version of the code, so malicious edits are easy to detect. 

The core Wordpress code is published via Git so you can literally clone it to your server, add a config file, and start the server. 

That's great for a quick test, but you probably do want to version your config file, so what you really want to do is fork the official repo. You can then add your custom stuff into your fork, and pull from the origin each time you want the lates code release. 

A first glance you now have a working Git-powered solution, but no, you're missing something critical -- a mechanism for handling plugins!

## Final Thoughts

TO DO
